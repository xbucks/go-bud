-- input.json --
{
  "dependencies": [
    {
      "import": "myapp.com/web",
      "type": "*Web"
    }
  ],
  "externals": [
    {
      "import": "net/http",
      "type": "*Request"
    }
  ],
  "target": "myapp.com/gen/web"
}

-- expect.txt --
&web.Web{Request: &http.Request{
  Method:     "GET",
  URL:  &url.URL{Path: "/"},
  Proto:      "HTTP/1.1",
  ProtoMajor: 1,
  ProtoMinor: 1,
  Header:     http.Header{},
  ctx:  valast.Addr(context.emptyCtx(0)).(*context.emptyCtx),
}}

-- main.go --
package main

import (
  "os"
  "fmt"
  "net/http"
  "github.com/hexops/valast"
  genweb "myapp.com/gen/web"
)

func main() {
  request, err := http.NewRequest("GET", "/", nil)
  if err != nil {
    fmt.Fprintf(os.Stderr, "%s\n", err.Error())
    return
  }
  actual := genweb.Load(request)
  fmt.Fprintf(os.Stdout, "%s\n", valast.String(actual))
}

-- go.mod --
module myapp.com

require (
  github.com/hexops/valast v1.4.1
)

-- web/web.go --
package web

import (
  "net/http"
)

// Web struct
type Web struct {
  *http.Request
}
